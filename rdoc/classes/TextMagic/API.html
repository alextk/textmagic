<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>TextMagic::API</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            TextMagic::API 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/api_rb.html">lib/api.rb</a></li>
            
            <li><a href="../../files/lib/charset_rb.html">lib/charset.rb</a></li>
            
            <li><a href="../../files/lib/error_rb.html">lib/error.rb</a></li>
            
            <li><a href="../../files/lib/executor_rb.html">lib/executor.rb</a></li>
            
            <li><a href="../../files/lib/response_rb.html">lib/response.rb</a></li>
            
            <li><a href="../../files/lib/validation_rb.html">lib/validation.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000001">account</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000010">delete</a>,</li>
                
                <li><a href="#M000009">delete_reply</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000006">message_status</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000000">new</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000008">receive</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000002">send</a>,</li>
                
                <li><a href="#M000007">status</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="API/Charset.html">TextMagic::API::Charset</a></li>
        
        <li><span class="type">MODULE</span> <a href="API/Validation.html">TextMagic::API::Validation</a></li>
        
        <li><span class="type">CLASS</span> <a href="API/Error.html">TextMagic::API::Error</a></li>
        
        <li><span class="type">CLASS</span> <a href="API/Executor.html">TextMagic::API::Executor</a></li>
        
        <li><span class="type">CLASS</span> <a href="API/Response.html">TextMagic::API::Response</a></li>
        
    </ul>
    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000000">
                    
                    <a name="M000000"></a><b>new</b>(username, password)
                    
                </div>
                
                <div class="description">
                  <p>
Creates new <a href="API.html">API</a> instance with specified credentials.
These will be used in all requests to the TextMagic SMS gateway done
through this instance. Multiple instances with different credentials can be
used at the same time.
</p>
<p>
Example usage:
</p>
<pre>
  api = TextMagic::API.new('fred', 'secret')
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000000_source')" id="l_M000000_source">show</a>
                        
                        | <a href="http://github.com/bobes/textmagic/blob/eae937b509493e58b2a1fcd2bd54009f01efa6e6/lib/api.rb#L16" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000000_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/api.rb, line 16</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">username</span>, <span class="ruby-identifier">password</span>)
      <span class="ruby-ivar">@username</span> = <span class="ruby-identifier">username</span>
      <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000001">
                    
                    <a name="M000001"></a><b>account</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Executes an account command by sending a request to the TextMagic&#8217;s
SMS gateway.
</p>
<p>
This method returns an object with balance attribute. In case the request
to the SMS gateway is not successful or the server returns an error
response, an <a href="API/Error.html">Error</a> is raised.
</p>
<p>
Example usage:
</p>
<pre>
 api.account.balance
 # =&gt; 314.15
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000001_source')" id="l_M000001_source">show</a>
                        
                        | <a href="http://github.com/bobes/textmagic/blob/eae937b509493e58b2a1fcd2bd54009f01efa6e6/lib/api.rb#L32" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000001_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/api.rb, line 32</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">account</span>
      <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Executor</span>.<span class="ruby-identifier">execute</span>(<span class="ruby-value str">'account'</span>, <span class="ruby-ivar">@username</span>, <span class="ruby-ivar">@password</span>)
      <span class="ruby-constant">TextMagic</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span>.<span class="ruby-identifier">account</span>(<span class="ruby-identifier">hash</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000010">
                    
                    <a name="M000010"></a><b>delete</b>(*ids)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="API.html#M000009">delete_reply</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000009">
                    
                    <a name="M000009"></a><b>delete_reply</b>(*ids)
                    
                </div>
                
                <div class="description">
                  <p>
Executes a <a href="API.html#M000009">delete_reply</a> command by sending a
request to the TextMagic&#8217;s SMS gateway.
</p>
<p>
This method always returns true. In case the request to the SMS gateway is
not successful or the server returns an error response, an <a
href="API/Error.html">Error</a> is raised.
</p>
<p>
Example usage:
</p>
<pre>
 api.delete_reply('141421')
 api.delete_reply('173205', '223606')
 api.delete_reply(['244948', '264575'])
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="API.html#M000010">delete</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000009_source')" id="l_M000009_source">show</a>
                        
                        | <a href="http://github.com/bobes/textmagic/blob/eae937b509493e58b2a1fcd2bd54009f01efa6e6/lib/api.rb#L185" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000009_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/api.rb, line 185</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_reply</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">ids</span>)
      <span class="ruby-identifier">single</span> = <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
      <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">flatten!</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TextMagic</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">4</span>, <span class="ruby-value str">'Insufficient parameters'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-constant">Executor</span>.<span class="ruby-identifier">execute</span>(<span class="ruby-value str">'delete_reply'</span>, <span class="ruby-ivar">@username</span>, <span class="ruby-ivar">@password</span>, <span class="ruby-identifier">:ids</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">','</span>))
      <span class="ruby-keyword kw">true</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000006">
                    
                    <a name="M000006"></a><b>message_status</b>(*ids)
                    
                </div>
                
                <div class="description">
                  <p>
Executes a <a href="API.html#M000006">message_status</a> command by sending
a request to the TextMagic&#8217;s SMS gateway.
</p>
<p>
If called with a single <tt>id</tt>, this method returns a single string
value denoting the message status. This string is extended with custom
attributes <tt>text</tt>, <tt>status</tt>, <tt>created_time</tt>,
<tt>completed_time</tt>, <tt>reply_number</tt> and <tt>credits_cost</tt>.
If called with multiple ids, it returns a hash of such strings with message
ids as keys. In case the request to the SMS gateway is not successful or
the server returns an error response, an <a href="API/Error.html">Error</a>
is raised.
</p>
<p>
Example usage:
</p>
<pre>
 status = api.message_status('141421')
 # =&gt; 'd'
 status.completed_time
 # =&gt; Fri May 22 10:10:18 +0200 2009
</pre>
<p>
Example with multiple ids:
</p>
<pre>
 statuses = api.message_status('141421', '173205')
 # =&gt; { '141421' =&gt; 'r', '173205' =&gt; 'd' }
 statuses['141421'].text
 # =&gt; 'Hi Wilma'
 statuses['173205'].created_time
 # =&gt; Thu May 28 16:41:45 +0200 2009
</pre>
<p>
Multiple ids can be supplied as an array or as a list of arguments:
</p>
<pre>
 api.send('Hello everybody', ['999314159265', '999271828182'])
 api.send('Hello everybody', '999314159265', '999271828182')
</pre>
<p>
If you want to request status for a single message but still want to get a
hash response, put the id in an array:
</p>
<pre>
 api.message_status(['141421'])
</pre>
<p>
<b>It is strongly encouraged to setup callbacks to receive updates on
message status instead of using this method.</b>
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="API.html#M000007">status</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000006_source')" id="l_M000006_source">show</a>
                        
                        | <a href="http://github.com/bobes/textmagic/blob/eae937b509493e58b2a1fcd2bd54009f01efa6e6/lib/api.rb#L131" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000006_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/api.rb, line 131</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">message_status</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">ids</span>)
      <span class="ruby-identifier">single</span> = <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
      <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">flatten!</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TextMagic</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">4</span>, <span class="ruby-value str">'Insufficient parameters'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Executor</span>.<span class="ruby-identifier">execute</span>(<span class="ruby-value str">'message_status'</span>, <span class="ruby-ivar">@username</span>, <span class="ruby-ivar">@password</span>, <span class="ruby-identifier">:ids</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">','</span>))
      <span class="ruby-constant">TextMagic</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span>.<span class="ruby-identifier">message_status</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">single</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000008">
                    
                    <a name="M000008"></a><b>receive</b>(last_retrieved_id = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Executes a receive command by sending a request to the TextMagic&#8217;s
SMS gateway.
</p>
<p>
This method returnes an array with retrieved messages. Every member of the
array is a string with <tt>from</tt>, <tt>text</tt>, <tt>timestamp</tt> and
<tt>message_id</tt> attributes. The value of every string contains a phone
number and text. In case the request to the SMS gateway is not successful
or the server returns an error response, an <a
href="API/Error.html">Error</a> is raised.
</p>
<p>
This method accepts an optional <tt>last_retrieved_id</tt> value. If called
with this argument, the gateway will only return replies newer than the one
with specified id.
</p>
<p>
Example usage:
</p>
<pre>
 replies = api.receive
 # =&gt; ['999271828182: Hello Fred', '999314159265: Good day']
 replies.first.text
 # =&gt; 'Hello Fred'
 replies.first.from
 # =&gt; '999314159265'
 replies.last.message_id
 # =&gt; '223606'
 api.receive '223606'
 # =&gt; []
</pre>
<p>
<b>It is strongly encouraged to setup callbacks to receive replies instead
of using this method.</b>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000008_source')" id="l_M000008_source">show</a>
                        
                        | <a href="http://github.com/bobes/textmagic/blob/eae937b509493e58b2a1fcd2bd54009f01efa6e6/lib/api.rb#L168" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000008_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/api.rb, line 168</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">receive</span>(<span class="ruby-identifier">last_retrieved_id</span> = <span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Executor</span>.<span class="ruby-identifier">execute</span>(<span class="ruby-value str">'receive'</span>, <span class="ruby-ivar">@username</span>, <span class="ruby-ivar">@password</span>, <span class="ruby-identifier">:last_retrieved_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">last_retrieved_id</span>)
      <span class="ruby-constant">TextMagic</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span>.<span class="ruby-identifier">receive</span>(<span class="ruby-identifier">hash</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000002">
                    
                    <a name="M000002"></a><b>send</b>(text, *args)
                    
                </div>
                
                <div class="description">
                  <p>
Executes a send command by sending a request to the TextMagic&#8217;s SMS
gateway.
</p>
<p>
If called with a single phone number, this method returns a string message
id. If called with multiple phone numbers, it will return an hash of
message ids with phone numbers as keys. In both cases the returned object
is extended with <tt>sent_text</tt> and <tt>parts_count</tt> attributes. In
case the request to the SMS gateway is not successful or the server returns
an error response, an <a href="API/Error.html">Error</a> is raised.
</p>
<p>
The optional parameters you can specify in the options Hash are:
</p>
<ul>
<li><tt>unicode</tt>: accepted values are <tt>true</tt>, <tt>false</tt>,
<tt>0</tt> and <tt>1</tt>. If not specified, the method will determine the
unicode value based on the characters in the text.

</li>
<li><tt>max_length</tt>: accepted values are <tt>nil</tt>, <tt>1</tt>,
<tt>2</tt> and <tt>3</tt>, defaults to nil. If not specified, the SMS
gateway will apply its own default value.

</li>
</ul>
<p>
Example usage:
</p>
<pre>
 api.send('Hi Wilma', '999314159265')
 # =&gt; '141421'
 response = api.send('Hello everybody', '999314159265', '999271828182', :max_length =&gt; 2)
 # =&gt; { '999314159265' =&gt; '141421', '999271828182' =&gt; '173205' }
 response.parts_count
 # =&gt; 1
</pre>
<p>
Multiple phone numbers can be supplied as an array or as a list of
arguments:
</p>
<pre>
 api.send('Hello everybody', ['999314159265', '999271828182'])
 api.send('Hello everybody', '999314159265', '999271828182')
</pre>
<p>
If you want to send a message to a single phone number but still want to
get a hash response, put the phone number in an array:
</p>
<pre>
 api.send('Hi Barney', ['999271828182'])
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000002_source')" id="l_M000002_source">show</a>
                        
                        | <a href="http://github.com/bobes/textmagic/blob/eae937b509493e58b2a1fcd2bd54009f01efa6e6/lib/api.rb#L73" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000002_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/api.rb, line 73</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">text</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">'Message text is empty'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">blank?</span>
      <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
      <span class="ruby-identifier">unicode</span> = <span class="ruby-constant">API</span>.<span class="ruby-identifier">is_unicode</span>(<span class="ruby-identifier">text</span>)
      <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:unicode</span>] = <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:unicode</span>]
      <span class="ruby-keyword kw">when</span> <span class="ruby-value">1</span>, <span class="ruby-keyword kw">true</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span>, <span class="ruby-keyword kw">false</span><span class="ruby-operator">:</span> <span class="ruby-value">0</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span><span class="ruby-operator">:</span> <span class="ruby-identifier">unicode</span> <span class="ruby-value">? </span><span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
      <span class="ruby-keyword kw">else</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">10</span>, <span class="ruby-node">&quot;Wrong parameter value #{options[:unicode]} for parameter unicode&quot;</span>)
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">6</span>, <span class="ruby-value str">'Message contains invalid characters'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">unicode</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:unicode</span>] <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">7</span>, <span class="ruby-value str">'Message too long'</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">API</span>.<span class="ruby-identifier">validate_text_length</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">unicode</span>)
      <span class="ruby-identifier">single</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
      <span class="ruby-identifier">phones</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">9</span>, <span class="ruby-value str">'Invalid phone number format'</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">API</span>.<span class="ruby-identifier">validate_phones</span>(<span class="ruby-identifier">phones</span>)
      <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Executor</span>.<span class="ruby-identifier">execute</span>(<span class="ruby-value str">'send'</span>, <span class="ruby-ivar">@username</span>, <span class="ruby-ivar">@password</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">text</span>, <span class="ruby-identifier">:phone</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">phones</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">','</span>)))
      <span class="ruby-constant">TextMagic</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">single</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000007">
                    
                    <a name="M000007"></a><b>status</b>(*ids)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="API.html#M000006">message_status</a>
</p>

                </div>
                
                
                
            </div>
            
</div>
    </div>
  </body>
</html>    